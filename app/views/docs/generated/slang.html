<div class="container"><div><h1><a id="slang-score-language" class="anchor" href="#/docs/slang-score-language"><span class="header-link"></span></a>SLANG - score language</h1><h2><a id="what-is-slang-" class="anchor" href="#/docs/what-is-slang-"><span class="header-link"></span></a>What is SLANG?</h2><p>SLANG is a YAML based language for describing a workflow.</p>
<p>YAML is a human friendly data serialization standard for all programming languages. The acronym stands for
&quot;YAML Ain&#39;t Markup Language&quot; suggesting that its purpose is rather data-oriented than document markup. The YAML
(and SLANG) syntax maintains data structure hierarchy by outline indentation (in other words parallel elements should have the same left indentation).</p>
<p>SLANG as a workflow language is used to define processes introducing the concept of flows. See <a class="docs-link" href="#docs/#slang-dsl">Slang DSL</a>.
Using SLANG you can easily define your workflow in a structured, easy-to-understand format.</p>
<h2><a id="slang-dsl" class="anchor" href="#/docs/slang-dsl"><span class="header-link"></span></a>Slang DSL</h2><p>The SLANG DSL contains the following main entities:</p>
<ul>
<li>Flow: A flow is the basic executable unit of SLANG. It represents a process that can perform a job relevant to the end user. For example, a flow that creates a virtual machine. A flow consists of tasks and the navigation between them. Flows have inputs, outputs and possible results.</li>
<li>Task: One step in a flow. It can point to an operation or to another flow (which in this context is called subflow).</li>
<li>Operation: A wrapper unit of an action. The operation handles the action inputs, defines relevant outputs, and returns a result.</li>
<li>Action: A method, written pragmatically. This can be a java method or a type of script.</li>
<li>Result: The returned status of a flow or operation, for example: SUCCESS or FAILURE.</li>
</ul>
<h3><a id="flow" class="anchor" href="#/docs/flow"><span class="header-link"></span></a>Flow</h3><p>A flow is the basic executable unit of SLANG. It represents a process that can be described in a number of ways and that can perform a job relevant to the end user. Each flow consists of a workflow describing the exact tasks (one or more) that are performed during the execution a flow. A flow can be used by other flows as a single task.</p>
<div class="table-responsive"><table class="table table-responsive">
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>V</td>
<td></td>
<td>The name of the flow</td>
</tr>
<tr>
<td>inputs</td>
<td></td>
<td></td>
<td>List of inputs (see <a class="docs-link" href="#docs/#inputs">Inputs</a>)</td>
</tr>
<tr>
<td>workflow</td>
<td>V</td>
<td></td>
<td>Describes the flow tasks and navigation (see <a class="docs-link" href="#docs/#workflow">Workflow</a>)</td>
</tr>
<tr>
<td>results</td>
<td></td>
<td>SUCCESS/FAILURE</td>
<td>Possible results of the flow (see <a class="docs-link" href="#docs/#results">Results</a>)</td>
</tr>
<tr>
<td>outputs</td>
<td></td>
<td></td>
<td>List of outputs (see <a class="docs-link" href="#docs/#outputs">Outputs</a>)</td>
</tr>
</tbody>
</table>
</div><p><em>sample:</em></p>
<pre><code class="lang-yaml"><span class="hljs-attribute">namespace</span>: slang.sample.flows
<span class="hljs-attribute">imports</span>: 
- <span class="hljs-attribute">ops</span>: slang.ops.operations
<span class="hljs-attribute">flow</span>:
  <span class="hljs-attribute">name</span>: SimpleFlow
  <span class="hljs-attribute">inputs</span>:
  - input_1
  - input_2
  - input_3
  <span class="hljs-attribute">workflow</span>:
    <span class="hljs-attribute">CheckWeather</span>:
      <span class="hljs-attribute">do</span>: 
        ops.<span class="hljs-attribute">check_Weather</span>:
          <span class="hljs-attribute">city</span>: input_1
      <span class="hljs-attribute">publish</span>:
        weather
    <span class="hljs-attribute">PrintWeather</span>:
      <span class="hljs-attribute">operation</span>:
        ops.<span class="hljs-attribute">print</span>:
         - <span class="hljs-attribute">text</span>:  <span class="hljs-string">"'the weather in' + input_1 + ' is:' + weather"</span>
</code></pre>
<h3><a id="workflow" class="anchor" href="#/docs/workflow"><span class="header-link"></span></a>Workflow</h3><p>Describes the workflow of the flow, and contains the different tasks and the navigations between them.</p>
<p>The first task in the workflow is the begin task of the flow.
on_failure is a reserved key.
For the default navigation the result of FAILURE goes to on_failure, the result of SUCCESS goes to the next step.
You can also define custom navigations with targets like: another task or flow results (e.g. SUCCESS / FAILURE) - in this case the default navigation rules are ignored.
Every task can use: predefined operation or subflow, (see <a class="docs-link" href="#docs/#task">Task</a>).</p>
<div class="table-responsive"><table class="table table-responsive">
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>on_failure</td>
<td></td>
<td></td>
<td>the default task FAILURE result should navigate to</td>
</tr>
</tbody>
</table>
</div><p><em>sample:</em></p>
<pre><code class="lang-yaml"><span class="hljs-attribute">workflow</span>:
  <span class="hljs-attribute">first_task</span>:
    <span class="hljs-attribute">do</span>: 
      <span class="hljs-attribute">some_operation</span>:
      - <span class="hljs-attribute">operation_input_1</span>: flow_input_3
      - operation_input_2
      - operation_input_3
    <span class="hljs-attribute">publish</span>:
      <span class="hljs-attribute">flow_var</span>: some_op_output
    <span class="hljs-attribute">navigate</span>: 
      #how to handle an operation that has a non-default result
      <span class="hljs-attribute">NON_DEFAULT_RESULT</span>: custom_task
</code></pre>
<h3><a id="inputs" class="anchor" href="#/docs/inputs"><span class="header-link"></span></a>Inputs</h3><p>Inputs are used to pass and manipulate parameters in flows, operations and tasks.
The name of the input is the key.</p>
<div class="table-responsive"><table class="table table-responsive">
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>required</td>
<td></td>
<td>true</td>
<td>If the input must have a value</td>
</tr>
<tr>
<td>default</td>
<td></td>
<td></td>
<td>The default value of the input (constant value or expression) in case no other value passed</td>
</tr>
<tr>
<td>encrypted</td>
<td></td>
<td>false</td>
<td>If the value is true, the input will be encrypted</td>
</tr>
<tr>
<td>override</td>
<td></td>
<td>false</td>
<td>In case it is marked as true, the default value is always the value - even if the parent task/flow declared the input with given value</td>
</tr>
</tbody>
</table>
</div><p><em>sample:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">inputs</span>:
    - input_with_value_like_name
    - <span class="hljs-attribute">input_not_required</span>:
       <span class="hljs-attribute">required</span>: false
    - <span class="hljs-attribute">input_use_expression_inline</span>: <span class="hljs-string">"'1' + '6'"</span>
    - <span class="hljs-attribute">input_with_default_value</span>:
       <span class="hljs-attribute">default</span>: <span class="hljs-string">"'I'm the default value'"</span>
    - <span class="hljs-attribute">input_with_default_expression_value</span>:
       <span class="hljs-attribute">default</span>: <span class="hljs-string">"'1' + '5'"</span>
    - <span class="hljs-attribute">input_mix</span>:
       <span class="hljs-attribute">default</span>: <span class="hljs-string">"'some value'"</span>
       <span class="hljs-attribute">required</span>: false
</code></pre>
<h3><a id="outputs" class="anchor" href="#/docs/outputs"><span class="header-link"></span></a>Outputs</h3><p>Outputs define the possible parameters flow / operation exposed to further use (see <a class="docs-link" href="#docs/#task">Task</a> publish property).</p>
<p><em>sample:</em></p>
<pre><code class="lang-yaml">    outputs:
    -<span class="ruby"> <span class="hljs-symbol">output_from_return_value:</span> processId
</span>    -<span class="ruby"> <span class="hljs-symbol">output_from_input_value:</span> fromInputs [<span class="hljs-string">'input1'</span>]</span>
</code></pre>
<h3><a id="results" class="anchor" href="#/docs/results"><span class="header-link"></span></a>Results</h3><p>Describes the possible results of the flow. By default, the flow has two results: SUCCESS and FAILURE. You can override them, with an unlimited number of results. The result on runtime will be used to navigate when using this flow as sub-flow in a different flow.
<em>sample:</em></p>
<pre><code class="lang-yaml">    results:
     -<span class="ruby"> <span class="hljs-constant">SUCCESS</span>
</span>     -<span class="ruby"> <span class="hljs-constant">FAILURE</span>
</span>     -<span class="ruby"> <span class="hljs-constant">NO_SPACE</span></span>
</code></pre>
<h3><a id="task" class="anchor" href="#/docs/task"><span class="header-link"></span></a>Task</h3><p>Task is a single node in the flow workflow. Every task can use predefined operation or subflow.</p>
<div class="table-responsive"><table class="table table-responsive">
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>operation</td>
<td>V</td>
<td></td>
<td>Describe the operation or subflow this task will run</td>
</tr>
<tr>
<td>publish</td>
<td></td>
<td></td>
<td>Choose from the operation outputs what to publish to the flow level</td>
</tr>
<tr>
<td>go_to</td>
<td>FAILURE: on_failure SUCCESS: go to next task</td>
<td></td>
<td>Describe the navigation for the different results the operation has. In case of the default results, with the default go_to you don’t need to write it down.</td>
</tr>
</tbody>
</table>
</div><p><em>sample:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">Task2</span>:
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">compute_daylight_time_zone</span>:
              - <span class="hljs-attribute">time_zone_as_string</span>: flow_input
          <span class="hljs-attribute">publish</span>:
            - daylight_time_zone
</code></pre>
<h3><a id="operation" class="anchor" href="#/docs/operation"><span class="header-link"></span></a>Operation</h3><p>Operation is the wrapper of an action.</p>
<div class="table-responsive"><table class="table table-responsive">
<thead>
<tr>
<th>Property</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>inputs</td>
<td></td>
<td></td>
<td>Operation inputs (see <a class="docs-link" href="#docs/#inputs">Inputs</a>)</td>
</tr>
<tr>
<td>action</td>
<td>V</td>
<td></td>
<td>Logic of the operation. (see <a class="docs-link" href="#docs/#action">Action</a>)</td>
</tr>
<tr>
<td>results</td>
<td></td>
<td>SUCCESS/FAILURE</td>
<td>Possible results of the operation (see <a class="docs-link" href="#docs/#results">Results</a>)</td>
</tr>
<tr>
<td>outputs</td>
<td></td>
<td></td>
<td>Outputs of the operation (see <a class="docs-link" href="#docs/#outputs">Outputs</a>)</td>
</tr>
</tbody>
</table>
</div><p><em>sample:</em></p>
<pre><code class="lang-yaml">    do: 
      some_operation:
        -<span class="ruby"> <span class="hljs-symbol">operation_input_1:</span> flow_input_3
</span>        -<span class="ruby"> operation_input_2
</span>        -<span class="ruby"> operation_input_3</span>
</code></pre>
<h3><a id="action" class="anchor" href="#/docs/action"><span class="header-link"></span></a>Action</h3><p>Two kind of actions are supported: java @Actions and python scripts.</p>
<h4><a id="-action" class="anchor" href="#/docs/-action"><span class="header-link"></span></a>@Action</h4><p>A java action is a valid @Action that respects the method signature <code>public Map&lt;String, String&gt; doSomething(paramaters)</code> and
uses the following annotations (from <code>com.hp.oo.sdk.content.annotations</code>):</p>
<ul>
<li>required annotations<ul>
<li>@Param: for action parameters</li>
</ul>
</li>
<li>optional annotations<ul>
<li>@Action: specify action information</li>
<li>@Output: denotes action output</li>
<li>@Response: denotes action response</li>
</ul>
</li>
</ul>
<p><em>sample - java @Action</em></p>
<pre><code class="lang-java">    public <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">String</span>&gt; doJavaAction(
            <span class="hljs-annotation">@Param</span>(<span class="hljs-string">"name"</span>) <span class="hljs-built_in">String</span> name,
            <span class="hljs-annotation">@Param</span>(<span class="hljs-string">"role"</span>) <span class="hljs-built_in">String</span> role) {
        <span class="hljs-comment">//logic here</span>
        <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">String</span>&gt; returnValues = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();
        <span class="hljs-comment">//prepare return values map</span>
        <span class="hljs-keyword">return</span> returnValues;
    }
</code></pre>
<p><em>sample - create custom operation that uses @Action</em></p>
<pre><code class="lang-yaml">    -<span class="ruby"> <span class="hljs-symbol">pull_image:</span>
</span>            inputs:
              -<span class="ruby"> imageName
</span>              -<span class="ruby"> host
</span>              -<span class="ruby"> port
</span>              -<span class="ruby"> username
</span>              -<span class="ruby"> password
</span>            action:
              java_action:
                className: org.mypackage.MyClass
                methodName: doMyAction
            outputs:
              -<span class="ruby"> returnResult
</span>            results:
              -<span class="ruby"> <span class="hljs-constant">SUCCESS</span> <span class="hljs-symbol">:</span> someActionOutput == <span class="hljs-string">'0'</span>
</span>              -<span class="ruby"> <span class="hljs-constant">FAILURE</span></span>
</code></pre>
<h4><a id="python-script" class="anchor" href="#/docs/python-script"><span class="header-link"></span></a>Python script</h4><p>You can use any traditional python 2.7 version script.</p>
<p><em>sample - create custom operation that uses Python script</em></p>
<pre><code class="lang-yaml">      -<span class="ruby"> <span class="hljs-symbol">check_Weather:</span>
</span>          inputs:
            -<span class="ruby"> city
</span>          action:
            python_script: |
              weather = "weather thing"
              print city
          outputs:
            -<span class="ruby"> weather
</span>          results:
            -<span class="ruby"> <span class="hljs-constant">SUCCESS</span><span class="hljs-symbol">:</span> <span class="hljs-string">'weather == "weather thing"'</span></span>
</code></pre>
<h3><a id="imports" class="anchor" href="#/docs/imports"><span class="header-link"></span></a>Imports</h3><p>Written at the beginning of the file, after the namespace, used to specify the dependencies the file is using and the name it will be referenced within the file. 
<em>sample:</em></p>
<pre><code class="lang-yaml">   imports:
     - ops: user<span class="hljs-class">.ops</span><span class="hljs-class">.OpenstackOperations</span>
     - order_vm_flow: user<span class="hljs-class">.flows</span><span class="hljs-class">.OrderVmFlow</span>
     - script_file: some_script_file.py
</code></pre>
<h3><a id="namespace" class="anchor" href="#/docs/namespace"><span class="header-link"></span></a>Namespace</h3><p>Used at the beginning of a file. Used as the namespace of the flow or operation. 
<em>sample:</em></p>
<pre><code class="lang-yaml">  <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.flows</span>
</code></pre>
<h3><a id="some-more-samples" class="anchor" href="#/docs/some-more-samples"><span class="header-link"></span></a>Some more samples</h3><h4><a id="sample1-demonstrates-default-navigation" class="anchor" href="#/docs/sample1-demonstrates-default-navigation"><span class="header-link"></span></a>Sample1 - demonstrates default navigation</h4><p><em>operations:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.ops</span>

<span class="haml">    operations:    
      -<span class="ruby"> <span class="hljs-symbol">produce_default_navigation:</span>
</span>          inputs:
            -<span class="ruby"> navigationType
</span>          action:
            python_script:
              print 'Producing default navigation based on input'
          results:
            -<span class="ruby"> <span class="hljs-constant">SUCCESS</span><span class="hljs-symbol">:</span> navigationType == <span class="hljs-string">'success'</span>
</span>            -<span class="ruby"> <span class="hljs-constant">FAILURE</span><span class="hljs-symbol">:</span> <span class="hljs-number">1</span> == <span class="hljs-number">1</span></span></span>
</code></pre>
<p><em>flow:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.flows</span>

<span class="less">    <span class="hljs-attribute">imports</span>:
     <span class="hljs-attribute">ops</span>: user.ops

    <span class="hljs-attribute">flow</span>:
      <span class="hljs-attribute">name</span>: navigation_flow
      <span class="hljs-attribute">inputs</span>:
        - navigationType
        - emailHost
        - emailPort
        - emailSender
        - emailRecipient
      <span class="hljs-attribute">workflow</span>:
        <span class="hljs-attribute">produce_default_navigation</span>:
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">produce_default_navigation</span>:
              - navigationType

        <span class="hljs-attribute">check_Weather</span>: # default <span class="hljs-attribute">navigation</span>: go to this step on success
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">check_Weather</span>:
              - <span class="hljs-attribute">city</span>: <span class="hljs-string">"'AwesomeCity'"</span>
          <span class="hljs-attribute">navigate</span>:
            <span class="hljs-attribute">SUCCESS</span>: SUCCESS # end flow with success result

        <span class="hljs-attribute">on_failure</span>: # default <span class="hljs-attribute">navigation</span>: go to this step on failure
          <span class="hljs-attribute">send_error_mail</span>:
            <span class="hljs-attribute">do</span>:
              ops.<span class="hljs-attribute">send_email_mock</span>:
                - <span class="hljs-attribute">hostname</span>: emailHost
                - <span class="hljs-attribute">port</span>: emailPort
                - <span class="hljs-attribute">sender</span>: emailSender
                - <span class="hljs-attribute">recipient</span>: emailRecipient
                - <span class="hljs-attribute">subject</span>: <span class="hljs-string">"'Flow failure'"</span>
                - <span class="hljs-attribute">body</span>: <span class="hljs-string">"'Default failure navigation here'"</span>
            <span class="hljs-attribute">navigate</span>:
              <span class="hljs-attribute">SUCCESS</span>: FAILURE # end flow with failure result
              <span class="hljs-attribute">FAILURE</span>: FAILURE</span>
</code></pre>
<h4><a id="sample2-demonstrates-custom-navigation-and-publishing-outputs" class="anchor" href="#/docs/sample2-demonstrates-custom-navigation-and-publishing-outputs"><span class="header-link"></span></a>Sample2 - demonstrates custom navigation and publishing outputs</h4><p><em>operations:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.ops</span>

<span class="haml">    operations:
      -<span class="ruby"> <span class="hljs-symbol">check_number:</span>
</span>          inputs:
            -<span class="ruby"> number
</span>          action:
            python_script: |
              remainder = number % 2
              isEven = remainder == 0
              tooBig = number &gt; 512
          outputs:
            -<span class="ruby"> <span class="hljs-symbol">preprocessed_number:</span> str(fromInputs[<span class="hljs-string">'number'</span>] * <span class="hljs-number">3</span>)
</span>          results:
            -<span class="ruby"> <span class="hljs-constant">EVEN</span><span class="hljs-symbol">:</span> isEven == <span class="hljs-string">'True'</span> <span class="hljs-keyword">and</span> tooBig == <span class="hljs-string">'False'</span>
</span>            -<span class="ruby"> <span class="hljs-constant">ODD</span><span class="hljs-symbol">:</span> isEven == <span class="hljs-string">'False'</span> <span class="hljs-keyword">and</span> tooBig == <span class="hljs-string">'False'</span>
</span>            -<span class="ruby"> <span class="hljs-constant">FAILURE</span> <span class="hljs-comment"># report failure if the number is too big</span>
</span>
      -<span class="ruby"> <span class="hljs-symbol">process_even_number:</span>
</span>          inputs:
            -<span class="ruby"> even_number
</span>            -<span class="ruby"> <span class="hljs-symbol">offset:</span> <span class="hljs-number">32</span>
</span>          action:
            python_script: |
              processing_result = int(even_number) + offset
              print 'Even number processed. Result= ' + str(processing_result)

      -<span class="ruby"> <span class="hljs-symbol">process_odd_number:</span>
</span>          inputs:
            -<span class="ruby"> odd_number
</span>          action:
            python_script:
              print 'Odd number processed. Result= ' + str(odd_number)</span>
</code></pre>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">email.ops</span>

<span class="haml">    operations:
      -<span class="ruby"> <span class="hljs-symbol">send_mail:</span>
</span>          inputs:
            -<span class="ruby"> hostname
</span>            -<span class="ruby"> port
</span>            -<span class="ruby"> from
</span>            -<span class="ruby"> to
</span>            -<span class="ruby"> <span class="hljs-symbol">cc:</span> <span class="hljs-string">"''"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">bcc:</span> <span class="hljs-string">"''"</span>
</span>            -<span class="ruby"> subject
</span>            -<span class="ruby"> body
</span>            -<span class="ruby"> <span class="hljs-symbol">htmlEmail:</span> <span class="hljs-string">"'true'"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">readReceipt:</span> <span class="hljs-string">"'false'"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">attachments:</span> <span class="hljs-string">"''"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">username:</span> <span class="hljs-string">"''"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">password:</span> <span class="hljs-string">"''"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">characterSet:</span> <span class="hljs-string">"'UTF-8'"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">contentTransferEncoding:</span> <span class="hljs-string">"'base64'"</span>
</span>            -<span class="ruby"> <span class="hljs-symbol">delimiter:</span> <span class="hljs-string">"''"</span>
</span>          action:
            java_action:
              className: org.openscore.content.mail.actions.SendMailAction
              methodName: execute
          results:
            -<span class="ruby"> <span class="hljs-constant">SUCCESS</span><span class="hljs-symbol">:</span> returnCode == <span class="hljs-string">'0'</span>
</span>            -<span class="ruby"> <span class="hljs-constant">FAILURE</span></span></span>
</code></pre>
<p><em>flow:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.flows</span>

<span class="less">    <span class="hljs-attribute">imports</span>:
     <span class="hljs-attribute">ops</span>: user.ops
     <span class="hljs-attribute">email</span>: email.ops

    <span class="hljs-attribute">flow</span>:
      <span class="hljs-attribute">name</span>: navigation_flow
      <span class="hljs-attribute">inputs</span>:
        - userNumber
        - emailHost
        - emailPort
        - emailSender
        - emailRecipient
      <span class="hljs-attribute">workflow</span>:
        <span class="hljs-attribute">check_number</span>:
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">check_number</span>:
              - <span class="hljs-attribute">number</span>: userNumber
          <span class="hljs-attribute">publish</span>:
            - <span class="hljs-attribute">new_number</span>: preprocessed_number # publish the output in the flow level so it will be visible for other steps
          <span class="hljs-attribute">navigate</span>:
            <span class="hljs-attribute">EVEN</span>: process_even_number
            <span class="hljs-attribute">ODD</span>: process_odd_number
            <span class="hljs-attribute">FAILURE</span>: send_error_mail

        <span class="hljs-attribute">process_even_number</span>:
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">process_even_number</span>:
              - <span class="hljs-attribute">even_number</span>: new_number
          <span class="hljs-attribute">navigate</span>:
            <span class="hljs-attribute">SUCCESS</span>: SUCCESS # end flow with success result

        <span class="hljs-attribute">process_odd_number</span>:
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">process_odd_number</span>:
              - <span class="hljs-attribute">odd_number</span>: new_number
          <span class="hljs-attribute">navigate</span>:
            <span class="hljs-attribute">SUCCESS</span>: SUCCESS # end flow with success result

        <span class="hljs-attribute">on_failure</span>: # you can also use this step for default navigation in failure case
          <span class="hljs-attribute">send_error_mail</span>: # or refer it by the task name
            <span class="hljs-attribute">do</span>:
              email.<span class="hljs-attribute">send_mail</span>:
                - <span class="hljs-attribute">hostname</span>: emailHost
                - <span class="hljs-attribute">port</span>: emailPort
                - <span class="hljs-attribute">from</span>: emailSender
                - <span class="hljs-attribute">to</span>: emailRecipient
                - <span class="hljs-attribute">subject</span>: <span class="hljs-string">"'Flow failure'"</span>
                - <span class="hljs-attribute">body</span>: <span class="hljs-string">"'Wrong number: ' + str(userNumber)"</span>
            <span class="hljs-attribute">navigate</span>:
              <span class="hljs-attribute">SUCCESS</span>: FAILURE # end flow with failure result
              <span class="hljs-attribute">FAILURE</span>: FAILURE</span>
</code></pre>
<h4><a id="sample3-demonstrates-subflow-usage" class="anchor" href="#/docs/sample3-demonstrates-subflow-usage"><span class="header-link"></span></a>Sample3 - demonstrates subflow usage</h4><p><em>operations:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.ops</span>

<span class="haml">    operations:
      -<span class="ruby"> <span class="hljs-symbol">test_op:</span>
</span>          action:
            python_script: 'print "hello world"'

  -<span class="ruby"> <span class="hljs-symbol">check_Weather:</span>
</span>      inputs:
        -<span class="ruby"> city
</span>      action:
        python_script: |
          weather = "weather thing"
          print city
      outputs:
        -<span class="ruby"> <span class="hljs-symbol">weather:</span> weather
</span>      results:
        -<span class="ruby"> <span class="hljs-constant">SUCCESS</span><span class="hljs-symbol">:</span> <span class="hljs-string">'weather == "weather thing"'</span></span></span>
</code></pre>
<p><em>subflow:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.flows</span>

<span class="less">    <span class="hljs-attribute">imports</span>:
      <span class="hljs-attribute">ops</span>: user.ops

    <span class="hljs-attribute">flow</span>:
      <span class="hljs-attribute">name</span>: child_flow
      <span class="hljs-attribute">inputs</span>:
        - <span class="hljs-attribute">input1</span>: <span class="hljs-string">"'value'"</span>
      <span class="hljs-attribute">workflow</span>:
        <span class="hljs-attribute">CheckWeather</span>:
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">test_op</span>:
      <span class="hljs-attribute">outputs</span>:
        - <span class="hljs-attribute">val_output</span>: fromInputs[<span class="hljs-string">'input1'</span>]</span>
</code></pre>
<p><em>parent flow:</em></p>
<pre><code class="lang-yaml">    <span class="hljs-attribute">namespace</span>: <span class="hljs-string">user.flows</span>

<span class="less">    <span class="hljs-attribute">imports</span>:
      <span class="hljs-attribute">ops</span>: user.ops
      <span class="hljs-attribute">flows</span>: user.flows

    <span class="hljs-attribute">flow</span>:
      <span class="hljs-attribute">name</span>: parent_flow
      <span class="hljs-attribute">inputs</span>:
        - input1
        - <span class="hljs-attribute">city</span>:
            <span class="hljs-attribute">required</span>: false
      <span class="hljs-attribute">workflow</span>:
        <span class="hljs-attribute">Task1</span>:
          <span class="hljs-attribute">do</span>:
            ops.<span class="hljs-attribute">check_Weather</span>:
              - <span class="hljs-attribute">city</span>: city if city is not None else input1
          <span class="hljs-attribute">publish</span>:
            - <span class="hljs-attribute">kuku</span>: weather

        <span class="hljs-attribute">Task2</span>:
          <span class="hljs-attribute">do</span>:
            flows.<span class="hljs-attribute">child_flow</span>:
              - <span class="hljs-attribute">input1</span>: kuku
          <span class="hljs-attribute">publish</span>:
            - val_output
      <span class="hljs-attribute">results</span>:
        - SUCCESS
        - FAILURE</span>
</code></pre>
<h2><a id="slang-events" class="anchor" href="#/docs/slang-events"><span class="header-link"></span></a>SLANG Events</h2><p>SLANG uses score events. An event is represented by event type (a String value) and event data (Serializable object).
In case of SLANG the event data is a map that contains all the relevant information under certain keys defined in 
<code>com.hp.score.lang.runtime.events.LanguageEventData</code> class (See <a class="docs-link" href="#docs/#event_summary">table</a> below).
SLANG extends the traditional event type set provided by score with its own event types.</p>
<p>Event types from score:</p>
<ul>
<li>SCORE_FINISHED_EVENT</li>
<li>SCORE_FAILURE_EVENT</li>
</ul>
<p>Event types from SLANG and the data each provide:</p>
<ul>
<li>Description [DESCRIPTION] - the event description</li>
<li>Timestamp [TIMESTAMP] - the event time-stamp</li>
<li>Execution id [EXECUTIONID] - the event execution id</li>
<li>Path [PATH] - the event path, the path is increased when entering a subflow / operation</li>
</ul>
<p>in square brackets we provide the keys under the information is put in the event data map</p>
<div class="table-responsive"><table class="table table-responsive">
<thead>
<tr>
<th>Type [TYPE]</th>
<th>Usage</th>
<th>Event Data</th>
</tr>
</thead>
<tbody>
<tr>
<td>EVENT_INPUT_END</td>
<td>Input binding finished for task</td>
<td>bound inputs [BOUND_INPUTS] level: task, node name [TASK_NAME]</td>
</tr>
<tr>
<td>EVENT_INPUT_END</td>
<td>Input binding finished for operation</td>
<td>bound inputs [BOUND_INPUTS], level: executable, node name [EXECUTABLE_NAME]</td>
</tr>
<tr>
<td>EVENT_OUTPUT_START</td>
<td>Output binding started for task</td>
<td>task publish values [taskPublishValues], task navigation values [taskNavigationValues], operation return values [operationReturnValues], level: task, node name [TASK_NAME]</td>
</tr>
<tr>
<td>EVENT_OUTPUT_START</td>
<td>Output binding started for operation</td>
<td>executable outputs [executableOutputs], executable results [executableResults], action return values [actionReturnValues], level: executable, node name [EXECUTABLE_NAME]</td>
</tr>
<tr>
<td>EVENT_OUTPUT_END</td>
<td>Output binding finished for task</td>
<td>task bound outputs [OUTPUTS], task result [RESULT], next step position [nextPosition], level: task, node name [TASK_NAME]</td>
</tr>
<tr>
<td>EVENT_OUTPUT_END</td>
<td>Output binding finished for operation</td>
<td>executable bound outputs [OUTPUTS], executable result [RESULT], level: executable, node name [EXECUTABLE_NAME]</td>
</tr>
<tr>
<td>EVENT_EXECUTION_FINISHED</td>
<td>Execution finished running (in case of subflow)</td>
<td>executable bound outputs [OUTPUTS] , executable result [RESULT], level: executable, node name [EXECUTABLE_NAME]</td>
</tr>
<tr>
<td>EVENT_ACTION_START</td>
<td>Fired before the action invocation</td>
<td>call arguments [CALL_ARGUMENTS], action type (Java / Python) in description</td>
</tr>
<tr>
<td>EVENT_ACTION_END</td>
<td>Fired after a successful action invocation</td>
<td>action return values [RETURN_VALUES]</td>
</tr>
<tr>
<td>EVENT_ACTION_ERROR</td>
<td>Fired in case of exception in action execution</td>
<td>exception [EXCEPTION]</td>
</tr>
<tr>
<td>SLANG_EXECUTION_EXCEPTION</td>
<td>Fired in case of exception in the previous step</td>
<td>exception [EXCEPTION]</td>
</tr>
</tbody>
</table>
</div><h2><a id="slang-cli" class="anchor" href="#/docs/slang-cli"><span class="header-link"></span></a>SLANG CLI</h2><p>You have two ways to obtain SLANG CLI: either download it directly from score website or build it by yourself.</p>
<h3><a id="running-cli-by-downloading-it" class="anchor" href="#/docs/running-cli-by-downloading-it"><span class="header-link"></span></a>Running CLI by downloading it</h3><ul>
<li>go to (<a class="docs-link" href="/#/">Score website</a>)</li>
<li>in the &quot;Getting started section&quot; click &quot;Download an use slang CLI tool&quot;</li>
<li>click &quot;Download latest version&quot;. This will download an archive with the latest CLI version</li>
<li>unzip the archive. It contains a folder called &quot;appassembler&quot; and some sample flows<ul>
<li>the &quot;appassembler&quot; folder contains the CLI tool and the necessary dependencies</li>
</ul>
</li>
<li>navigate to the folder <code>appassembler\bin\</code></li>
<li>start CLI by running <code>slang.bat</code></li>
</ul>
<h3><a id="running-cli-by-building-it" class="anchor" href="#/docs/running-cli-by-building-it"><span class="header-link"></span></a>Running CLI by building it</h3><ul>
<li>download the project sources from <a class="docs-link" href="#DOWNLOAD_LINK_HERE">here</a></li>
<li>navigate to project root directory</li>
<li>build the project: open a command window here and run <code>mvn clean install</code></li>
<li>after building the project navigate to <code>score-language\score-lang-cli\target\appassembler\bin</code> folder</li>
<li>start CLI by running <code>slang.bat</code></li>
</ul>
<h3><a id="using-the-cli" class="anchor" href="#/docs/using-the-cli"><span class="header-link"></span></a>Using the CLI</h3><p>You can get a list of available commands by typing <code>help</code> in the cli console.</p>
<p><em>sample - running a flow with default classpath (flow directory)</em></p>
<pre><code class="lang-bash">run --f c:/<span class="hljs-keyword">...</span>/your_flow.sl --i input1=root,input2=<span class="hljs-number">25</span>
</code></pre>
<p><em>sample - running a flow with custom classpath</em></p>
<pre><code class="lang-bash">run --f c:/<span class="hljs-keyword">...</span>/your_flow.sl --i input1=root,input2=<span class="hljs-number">25</span> --cp c:/<span class="hljs-keyword">...</span>/yaml/
run --f c:/<span class="hljs-keyword">...</span>/your_flow.sl --i input1=root,input2=<span class="hljs-number">25</span> --cp c:/<span class="hljs-keyword">...</span>/yaml/,c:/<span class="hljs-keyword">...</span>/openstack/
</code></pre>
<p><em>sample - set execution mode to asynchronous (by default the execution mode is synchronous - that means you can run only one flow at a time)</em></p>
<pre><code class="lang-bash"><span class="hljs-title">env</span> --setAsync <span class="hljs-built_in">true</span>
</code></pre>
<p><em>sample - get flow inputs</em></p>
<pre><code class="lang-bash">inputs --f c:/<span class="hljs-keyword">...</span>/your_flow.sl
</code></pre>
<p><em>sample - slang version</em></p>
<pre><code class="lang-bash">slang -<span class="hljs-property">version</span>
</code></pre>
<p>The execution log is saved in <code>score-language\score-lang-cli\target\appassembler\bin</code> directory under <code>execution.log</code> name. All the events are saved in this log so using this file you can easily track your flow execution.</p>
<h2><a id="sublime-integration" class="anchor" href="#/docs/sublime-integration"><span class="header-link"></span></a>Sublime integration</h2><p>In order to write flows or operations in slang, you can use Sublime text editor. We provide a snippet that enables
slang templates. The files should have the .yaml , .yl or .sl extension. See below how to install / configure Sublime for Windows:</p>
<ul>
<li>download and install Sublime editor from <a class="docs-link" href="http://www.sublimetext.com/2">here</a></li>
<li>download Slang.sublime-package file from <a class="docs-link" href="https://github.com/orius123/slang-sublime">here</a></li>
<li>copy the downloaded package file in C:\Users\&lt;User&gt;\AppData\Roaming\Sublime Text 2\Installed Packages</li>
</ul>
<p>In order to use the templates start typing the template name and press enter when it appears on the screen. See below
the template types:</p>
<div class="table-responsive"><table class="table table-responsive">
<thead>
<tr>
<th>Keyword</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>  slang</td>
<td>template for a slang file</td>
</tr>
<tr>
<td>  flow</td>
<td>template for a flow</td>
</tr>
<tr>
<td>  task</td>
<td>template for a task</td>
</tr>
<tr>
<td>  operation</td>
<td>template for an operation</td>
</tr>
</tbody>
</table>
</div><p><em>Note</em>: DSL elements that are not required are marked in the templates as comments (start with # sign).</p>
</div></div>